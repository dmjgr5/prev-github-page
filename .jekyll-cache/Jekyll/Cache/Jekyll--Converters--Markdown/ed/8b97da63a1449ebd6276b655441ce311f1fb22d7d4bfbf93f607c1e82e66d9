I"×~<p><img src="/assets/images/python.png" alt="example" /></p>

<blockquote>
  <p>This is the document for Python, which is basic instruction like Python Installation, Data Types and so on. Let me explain briefly about Python language.</p>
</blockquote>

<hr />

<h3 id="python-installation">Python Installation</h3>

<ul>
  <li>Using python IDLE <a href="https://www.python.org/">https://www.python.org</a></li>
  <li>Using Visual Studio Code after extension installation [https://code.visualstudio.com] (https://code.visualstudio.com/)</li>
</ul>

<h3 id="python-type">Python Type</h3>

<ul>
  <li>List [ ]
    <ul>
      <li>Ordered List</li>
    </ul>
  </li>
  <li>Tuple ( )
    <ul>
      <li>Ordered List, not changed</li>
    </ul>
  </li>
  <li>Set { }
    <ul>
      <li>Type with Set (used with Union, Intersection, Difference)</li>
    </ul>
  </li>
  <li>Dictionary {â€œkeyâ€:â€valueâ€}
    <ul>
      <li>Paired with Key and Value, No ordered list</li>
    </ul>
  </li>
</ul>

<h3 id="shallow-copy-and-deep-copy">Shallow Copy and Deep Copy</h3>

<ul>
  <li>Shallow Copy</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = [1,2,3]
b =a

import copy

a = [1,2,3]
b = copy.copy(a)

</code></pre></div></div>

<ul>
  <li>Deep Copy</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
a = [1,2,3]
b = a[:]  

import copy

a = [1,2,3]
b = copy.deepcopy(a)   

</code></pre></div></div>

<h3 id="garbage-collection">Garbage Collection</h3>
<ul>
  <li>The data type of int, float, complex, String and tuple are immutable, therefore if the variable is updated, it make another new object, so old object which is not used, garbage collection executed. Mostly list and dictionary used because it is mutable type.
The immutable type and global variable should be used with â€˜globalâ€™ to update its value.</li>
  <li>Test
```
    <blockquote>
      <blockquote>
        <blockquote>
          <p>g = 1
def testScope(a):
  global g
  g = 2
  return g + a</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </li>
</ul>

<p>print(â€œtestScoope(1) : â€œ, testScoope(1))
print(â€œg : â€œ,g)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Output
</code></pre></div></div>
<p>testScoope(1) :  3
g :  1</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Variable Parameter
- Any number of parameters can be used by adding * (different a pointer from C)in front of parameters


</code></pre></div></div>
<blockquote>
  <blockquote>
    <blockquote>
      <p>def test(*args):
    print(type(args))</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>test(1, 2)</p>
    </blockquote>
  </blockquote>
</blockquote>
<p>&lt;type â€˜tupleâ€™&gt; # tuple type</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>def union(*ar):
    res = []
    for item in ar:
        for x in item:
            if not x in res:
                res.append(x)
    return res</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>union(â€œHAMâ€, â€œEGGâ€, â€œSPAMâ€)
[â€˜Hâ€™, â€˜Aâ€™, â€˜Mâ€™, â€˜Eâ€™, â€˜Gâ€™, â€˜Sâ€™, â€˜Pâ€™]</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>union(â€œgirâ€, â€œgenerationâ€, â€œgeeâ€)
[â€˜gâ€™, â€˜iâ€™, â€˜râ€™, â€˜eâ€™, â€˜nâ€™, â€˜aâ€™, â€˜tâ€™, â€˜oâ€™]
```</p>
    </blockquote>
  </blockquote>
</blockquote>

<ul>
  <li>Any number of parameters (key-value type) can be used by adding ** in front of parameters.
It is option where it requires or not. Option parameter is handled as a dictionary type.
```
    <blockquote>
      <blockquote>
        <blockquote>
          <p>def userURIBuilder(server, port, **user):
  str = â€œhttp://â€ + server + â€œ:â€ + port + â€œ/?â€
  for key in user.keys():
      str += key + â€œ=â€ + user[key] + â€œ&amp;â€
  return str</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </li>
</ul>

<blockquote>
  <blockquote>
    <blockquote>
      <p>userURIBuilder(â€œtest.comâ€, â€œ8080â€, id=â€™useridâ€™, passwd=â€™1234â€™)
â€˜http://test.com:8080/?passwd=1234&amp;id=userid&amp;â€™
userURIBuilder(â€œtest.comâ€, â€œ8080â€, id=â€™useridâ€™, passwd=â€™1234â€™, name=â€™mikeâ€™, age=â€™20â€™)
â€˜http://test.com:8080/?passwd=1234&amp;age=20&amp;id=userid&amp;name=mike&amp;â€™
```</p>
    </blockquote>
  </blockquote>
</blockquote>

<h3 id="lambda-function">Lambda Function</h3>
<ul>
  <li>There is no name, anonymous function. In case of sample function, it is better to use lambda function.</li>
  <li>Example : lambda <parameters> : <phrase>
</phrase></parameters>    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; g = lambda x, y : x * y
&gt;&gt;&gt; g(2,3)
6
&gt;&gt;&gt; (lambda x: x * x)(3)
9
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="yield">yield</h3>
<ul>
  <li>returns value in real time, used in RANGE phrase.
```
    <blockquote>
      <blockquote>
        <blockquote>
          <p>def reverse(data):
  for index in range(len(data) - 1, -1, -1):
      yield data[index]</p>
        </blockquote>
      </blockquote>
    </blockquote>
  </li>
</ul>

<blockquote>
  <blockquote>
    <blockquote>
      <p>for char in reverse(â€˜goldâ€™):
    print(char)</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>d
l
o
g</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Private Member
- `Add __&lt;member variable&gt;, changed _&lt;className&gt;__&lt;memberName&gt;`
</code></pre></div></div>
<p>class BankAccount:
def <strong>init</strong>(self, id, name, balance):</p>

<p>self. __ id = id
self. __ name = name 
self. __ balance = balance 
def deposit(self, amount):
 self. __ balance += amount 
def withdraw(self, amount):
 self. __ balance -= amount
def <strong>str</strong>(self):
 return â€œ{0}, {1}, {2}â€.format(self.__id, self.__name, <br />
         self.__balance)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Inheritance
- Example : Class Student(Person):
</code></pre></div></div>
<p>class Person:
  â€¦</p>

<p>class Student(Person):
    â€œ"â€sub classâ€â€â€
    def <strong>init</strong>(self, name, phoneNumber, subject, studentID):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Person.__init__(self, name, phoneNumber) # Call Person Init 
    self.subject = subject
    self.studentID = studentID ```
</code></pre></div></div>

<h3 id="pythonpath-in-system-variables">PYTHONPATH in System Variables</h3>
<ul>
  <li>
    <p>When creating module, we can allocate the module location in specific folder using system properties path named as PYTHONPATH and the absolute path.
Classes and Functions can be defined in Module.</p>
  </li>
  <li>
    <p>Module example
```
from functools import *</p>
  </li>
</ul>

<p>def intersect(*ar):
    return reduce(__intersectSC,ar)</p>

<p>def __intersectSC(listX, listY):
    setList = []
    for x in listX:
        if x in listY:
            setList.append(x)
    return setList</p>

<p>def difference(<em>ar):
    setList = []
    intersectSet = intersect(</em>ar)
    unionSet = union(*ar)
    for x in unionSet:
        if not x in intersectSet:
            setList.append(x)
    return setList</p>

<p>def union(*ar):
    setList = []
    for item in ar:
        for x in item:
            if not x in setList:
                setList.append(x)
    return setList</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Module Importing Style
  - import simpleset
    - get from global namespace, get all functions
    - check with command like dir()
  - from simpleset import union
    - specific functions, ex) union function Only
    - check with command like dir(union)
  - from simpleset import * 
    - all functions, except the function start with __(double-underlined)
    - check with command like dir()
  - import simpleset as test1
    - make alias named as test1

### `__pycache__` folder
- After compile a pyc file, it is generated in `__pycache__`, as well we can share this file to others as a module, not to show the source code.
Pyinstaller is useful for this case :
  - pip3 install pyinstaller
  - python BankAccout.py
  - BankAccount in 'dist' folder


### Exception
</code></pre></div></div>
<p>def divide(a,b):
    return a/b</p>

<p>try:
    c = divide(5, 2)
except ZeroDivisionError:
    print(â€˜0 is not allowedâ€™)
except TypeError:
    print(â€œAll parameters must be numbersâ€)
except:
    print(â€œNot definedâ€)
else:
    print(â€œResult : {0}â€, c)</p>

<p>finally:
    print(â€œdo anythingâ€)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Input and Output
- Output
</code></pre></div></div>
<p>import sys</p>

<p>f = open(â€œC:\work\test.txtâ€, â€œwtâ€)
print(â€œfile writeâ€, file=f)
f.close()</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- read() : returns string all from a file
- readline() : returns string line by line
- readlines() : returns a list with line by line at once

</code></pre></div></div>
<blockquote>
  <blockquote>
    <blockquote>
      <p>f = open(â€œc:\work\demo.txtâ€)
result = f.read()
result
â€˜qqqq\nabcd\n1234\nâ€™
print(result)
qqqq
abcd
1234</p>
    </blockquote>
  </blockquote>
</blockquote>

<blockquote>
  <blockquote>
    <blockquote>
      <p>f.tell()
25
f.seek(0)
0
f.tell()
0
f.readline()
â€˜qqqq\nâ€™
f.readline()
â€˜abcd\nâ€™
f.readline()
â€˜1234\nâ€™
f.seek(0)
0
lst = f.readlines()
lst
[â€˜qqqq\nâ€™, â€˜abcd\nâ€™, â€˜1234\nâ€™]</p>
      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Input
</code></pre></div>      </div>
      <p>f = open(â€œc:\work\demo1.txtâ€, â€œwtâ€)
f.write(â€œqqqq\nabcd\n1234\nâ€)
f.close()
```</p>
    </blockquote>
  </blockquote>
</blockquote>

<h3 id="pickle">Pickle</h3>
<ul>
  <li>Save information temporarily</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import pickle

colors = ["red", "blue", "gree"]

# Write
f = open("c:\\work\\colors","wb") # write binary
pickle.dump(colors,f) # back up with .dump function
f.close()

# Read
f = open("c:\\work\\colors","rb") # read binary
colors = pickle.load(f) # open with .load function
print(colors)
f.close()

del colors # delete list

import os 
os.remove("c:\\work\\colors")  # delete file
</code></pre></div></div>

<h3 id="regular-expression">Regular Expression</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import re 

f=open('c:\\work\\PV3.txt','rt')
g=open('c:\\work\\PV3_copy.txt','wt')

 
line = f.readline()
while (line != ''):
    if (re.search("\d{4}", line)):
        g.write(line + "\n")
    line = f.readline()

f.close() 
g.close()
</code></pre></div></div>

<h3 id="time-math-and-random">Time, Math and Random</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; random.random()
0.35173868090650484
&gt;&gt;&gt; random.random()
0.5306281074635111
&gt;&gt;&gt; random.uniform(3,4) 
3.5888882103413913
&gt;&gt;&gt; for i in range(3):  
 random.gauss(1, 1.0)

 
0.9384305864119867
1.8460570340312912
1.3857190077793522
&gt;&gt;&gt; [random.randrange(20) for i in range(10)] 
[12, 2, 4, 11, 2, 15, 7, 13, 17, 15]
&gt;&gt;&gt; random.sample(range(20), 10) 
[8, 6, 0, 7, 2, 4, 10, 11, 12, 18]

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; random.random()
0.35173868090650484
&gt;&gt;&gt; random.random()
0.5306281074635111
&gt;&gt;&gt; random.uniform(3,4) 
3.5888882103413913
&gt;&gt;&gt; for i in range(3):  
 random.gauss(1, 1.0)

 
0.9384305864119867
1.8460570340312912
1.3857190077793522
&gt;&gt;&gt; [random.randrange(20) for i in range(10)] 
[12, 2, 4, 11, 2, 15, 7, 13, 17, 15]
&gt;&gt;&gt; random.sample(range(20), 10) 
[8, 6, 0, 7, 2, 4, 10, 11, 12, 18]
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; random.random()
0.35173868090650484
&gt;&gt;&gt; random.random()
0.5306281074635111
&gt;&gt;&gt; random.uniform(3,4) 
3.5888882103413913
&gt;&gt;&gt; for i in range(3):  
 random.gauss(1, 1.0)

 
0.9384305864119867
1.8460570340312912
1.3857190077793522
&gt;&gt;&gt; [random.randrange(20) for i in range(10)] 
[12, 2, 4, 11, 2, 15, 7, 13, 17, 15]
&gt;&gt;&gt; random.sample(range(20), 10) 
[8, 6, 0, 7, 2, 4, 10, 11, 12, 18]
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; import random
&gt;&gt;&gt; random.random()
0.35173868090650484
&gt;&gt;&gt; random.random()
0.5306281074635111
&gt;&gt;&gt; random.uniform(3,4) 
3.5888882103413913
&gt;&gt;&gt; for i in range(3):  
 random.gauss(1, 1.0)

 
0.9384305864119867
1.8460570340312912
1.3857190077793522
&gt;&gt;&gt; [random.randrange(20) for i in range(10)] 
[12, 2, 4, 11, 2, 15, 7, 13, 17, 15]
&gt;&gt;&gt; random.sample(range(20), 10) 
[8, 6, 0, 7, 2, 4, 10, 11, 12, 18]
</code></pre></div></div>
<h3 id="os">OS</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; from os.path import *
&gt;&gt;&gt; abspath('tmp')  
'C:\\Python35\\tmp'
&gt;&gt;&gt; basename('c:\\python35\\tmp')  
'tmp'
&gt;&gt;&gt; basename('c:\\python35\\tmp\\test.txt')
'test.txt'
&gt;&gt;&gt; commonprefix(['c:\\python35\\lib', 'c:\\python35\tools', 'c:\\python35']) 
'c:\\python35'
&gt;&gt;&gt; exists('c:\\python35\\tmp') 
False
&gt;&gt;&gt; exists('c:\\python35')
True
&gt;&gt;&gt; getsize('c:\\python35\\python.exe') 
26624
&gt;&gt;&gt; isfile('c:\\python35\\python.exe') 
True
</code></pre></div></div>

<h3 id="database-with-sqlite3">Database with SQLite3</h3>
<p>SQLite3 is an opensource, which is embedded in Python library.</p>

<ul>
  <li>sqlite3.connect(database[, timeout, isolation_level, detect_types, factory])</li>
  <li>sqlite3.complete_statement(sql)</li>
  <li>sqlite3.register_adapter(type, callable)</li>
  <li>sqlite3.register_converter(typename, callable)
    <ul>
      <li>Connection Class</li>
      <li>Connection.cursor()</li>
      <li>Connection.rollback()</li>
      <li>Connection.close()</li>
      <li>Connection.isolation_level</li>
      <li>Connection.execute(sql[, parameters])</li>
    </ul>
  </li>
  <li>Cursor Class
    <ul>
      <li>Cursor.execute(sql[, parameters])</li>
      <li>Cursor.executemany(sql, seq_of_parameters)</li>
      <li>Cursor.executescript(sql_script)</li>
      <li>Cursor.fetchone()</li>
      <li>Cursor.fetchmany([size=cursor.arraysize])</li>
      <li>Cursor.fetchall()</li>
    </ul>
  </li>
  <li>
    <p>Connection.iterdump()</p>
  </li>
  <li>CRUD example</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import sqlite3

#generate connection object
con = sqlite3.connect(":memory:") # in memory
# con = sqlite3.connect("test.db") # in file

#generate cursor
cur = con.cursor()

# create ( use text intead of varchar2 in SQLite3)
cur.execute("create table PhoneBook (Name text, PhoneNum text);")
# insert
cur.execute("insert into PhoneBook values ('derick', '010-111');")

# insert using variables
name = "gil dong"
phoneNumber = "010-222"
cur.execute("insert into PhoneBook values ( ?, ?);", (name, phoneNumber)) # input using Tuple type

# multiple record
datalist = (("tom","010-123"),("dsp","010-567")) # tuple in tuple
cur.executemany("insert into PhoneBook values ( ?, ?);", datalist) # input using Tuple type, with executemany function


# search
cur.execute("select * from PhoneBook;")

print(cur.fetchone())
print(cur.fetchmany(2))
cur.execute("select * from PhoneBook;")
print(cur.fetchall())

# dump
print("--------- db dump ---------")
for i in con.iterdump():
    print(i)


# *** Result =&gt; results out as tuple type
# ('derick', '010-111')
# [('gil dong', '010-222'), ('tom', '010-123')]
# [('derick', '010-111'), ('gil dong', '010-222'), ('tom', '010-123'), ('dsp', '010-567')]
# --------- db dump ---------
# BEGIN TRANSACTION;
# CREATE TABLE PhoneBook (Name text, PhoneNum text);
# INSERT INTO "PhoneBook" VALUES('derick','010-111');
# INSERT INTO "PhoneBook" VALUES('gil dong','010-222');
# INSERT INTO "PhoneBook" VALUES('tom','010-123');
# INSERT INTO "PhoneBook" VALUES('dsp','010-567');
# COMMIT;
</code></pre></div></div>

<ul>
  <li>executemany example with tuple data
```
import sqlite3</li>
</ul>

<p>#generate connection object</p>
<h1 id="con--sqlite3connectmemory--in-memory">con = sqlite3.connect(â€œ:memory:â€) # in memory</h1>
<p>con = sqlite3.connect(â€œc:\work\sample.dbâ€) # in file</p>

<p>#generate cursor
cur = con.cursor()</p>

<h1 id="create--use-text-intead-of-varchar2-in-sqlite3">create ( use text intead of varchar2 in SQLite3)</h1>
<p>cur.execute(â€œcreate table PhoneBook (Name text, PhoneNum text);â€)</p>
<h1 id="insert">insert</h1>
<p>cur.execute(â€œinsert into PhoneBook values (â€˜derickâ€™, â€˜010-111â€™);â€)</p>

<h1 id="insert-using-variables">insert using variables</h1>
<p>name = â€œgil dongâ€
phoneNumber = â€œ010-222â€
cur.execute(â€œinsert into PhoneBook values ( ?, ?);â€, (name, phoneNumber)) # input using Tuple type</p>

<h1 id="multiple-record">multiple record</h1>
<p>datalist = ((â€œtomâ€,â€010-123â€),(â€œdspâ€,â€010-567â€)) # tuple in tuple
cur.executemany(â€œinsert into PhoneBook values ( ?, ?);â€, datalist) # input using Tuple type, with executemany function</p>

<h1 id="search">search</h1>
<p>cur.execute(â€œselect * from PhoneBook;â€)
for row in cur:
    print(row)</p>

<h1 id="commit">commit</h1>
<p>con.commit()</p>

<h1 id="-result--results-out-as-tuple-type">*** Result =&gt; results out as tuple type</h1>
<h1 id="derick-010-111">(â€˜derickâ€™, â€˜010-111â€™)</h1>
<h1 id="gil-dong-010-222">(â€˜gil dongâ€™, â€˜010-222â€™)</h1>
<h1 id="tom-010-123">(â€˜tomâ€™, â€˜010-123â€™)</h1>
<h1 id="dsp-010-567">(â€˜dspâ€™, â€˜010-567â€™)</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
- Backup example
</code></pre></div></div>
<p>import sqlite3</p>

<p>#generate connection object
con = sqlite3.connect(â€œ:memory:â€) # in memory</p>
<h1 id="con--sqlite3connecttestdb--in-file">con = sqlite3.connect(â€œtest.dbâ€) # in file</h1>

<p>#generate cursor
cur = con.cursor()</p>

<h1 id="create--use-text-intead-of-varchar2-in-sqlite3-1">create ( use text intead of varchar2 in SQLite3)</h1>
<p>cur.execute(â€œcreate table PhoneBook (Name text, PhoneNum text);â€)</p>
<h1 id="insert-1">insert</h1>
<p>cur.execute(â€œinsert into PhoneBook values (â€˜derickâ€™, â€˜010-111â€™);â€)</p>

<h1 id="insert-using-variables-1">insert using variables</h1>
<p>name = â€œgil dongâ€
phoneNumber = â€œ010-222â€
cur.execute(â€œinsert into PhoneBook values ( ?, ?);â€, (name, phoneNumber)) # input using Tuple type</p>

<h1 id="multiple-record-1">multiple record</h1>
<p>datalist = ((â€œtomâ€,â€010-123â€),(â€œdspâ€,â€010-567â€)) # tuple in tuple
cur.executemany(â€œinsert into PhoneBook values ( ?, ?);â€, datalist) # input using Tuple type, with executemany function</p>

<h1 id="database-dump">database dump</h1>
<p>with open(â€œc:\work\dump.sqlâ€,â€wtâ€) as f:
    for item in con.iterdump():  <br />
        print(item)
        f.write(â€œ{0}\nâ€.format(item))</p>

<p>print(â€œbackup completedâ€)</p>

<h1 id="-result--results-out-as-tuple-type-1">*** Result =&gt; results out as tuple type</h1>
<h1 id="begin-transaction">BEGIN TRANSACTION;</h1>
<h1 id="create-table-phonebook-name-text-phonenum-text">CREATE TABLE PhoneBook (Name text, PhoneNum text);</h1>
<h1 id="insert-into-phonebook-valuesderick010-111">INSERT INTO â€œPhoneBookâ€ VALUES(â€˜derickâ€™,â€™010-111â€™);</h1>
<h1 id="insert-into-phonebook-valuesgil-dong010-222">INSERT INTO â€œPhoneBookâ€ VALUES(â€˜gil dongâ€™,â€™010-222â€™);</h1>
<h1 id="insert-into-phonebook-valuestom010-123">INSERT INTO â€œPhoneBookâ€ VALUES(â€˜tomâ€™,â€™010-123â€™);</h1>
<h1 id="insert-into-phonebook-valuesdsp010-567">INSERT INTO â€œPhoneBookâ€ VALUES(â€˜dspâ€™,â€™010-567â€™);</h1>
<h1 id="commit-1">COMMIT;</h1>
<h1 id="backup-completed">backup completed</h1>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
- Restore example

</code></pre></div></div>
<h1 id="open-new-dump">open new dump</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>con = sqlite3.connect(â€œc:\work\demo.dbâ€)</p>
    </blockquote>
  </blockquote>
</blockquote>

<h1 id="read-old-dump">read old dump</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>with open(â€œc:\work\dump.sqlâ€) as f:
 SQLScript = f.read()</p>
    </blockquote>
  </blockquote>
</blockquote>

<h1 id="check-dump-script">check dump script</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>SQLScript
â€˜BEGIN TRANSACTION;\nCREATE TABLE PhoneBook (Name text, PhoneNum text);\nINSERT INTO â€œPhoneBookâ€ VALUES('derick','010-111');\nINSERT INTO â€œPhoneBookâ€ VALUES('gil dong','010-222');\nINSERT INTO â€œPhoneBookâ€ VALUES('tom','010-123');\nINSERT INTO â€œPhoneBookâ€ VALUES('dsp','010-567');\nCOMMIT;\nâ€™</p>
    </blockquote>
  </blockquote>
</blockquote>

<h1 id="create-cursor">create cursor</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>cur = con.cursor()</p>
    </blockquote>
  </blockquote>
</blockquote>

<h1 id="execute-script">execute script</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>cur.executescript(SQLScript)</p>
    </blockquote>
  </blockquote>
</blockquote>
<p>&lt;sqlite3.Cursor object at 0x03F4B7E0&gt;</p>

<h1 id="select">select</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>cur.execute(â€œselect * from PhoneBook;â€)</p>
    </blockquote>
  </blockquote>
</blockquote>
<p>&lt;sqlite3.Cursor object at 0x03F4B7E0&gt;</p>

<h1 id="fetch-all">fetch all</h1>
<blockquote>
  <blockquote>
    <blockquote>
      <p>cur.fetchall()
[(â€˜derickâ€™, â€˜010-111â€™), (â€˜gil dongâ€™, â€˜010-222â€™), (â€˜tomâ€™, â€˜010-123â€™), (â€˜dspâ€™, â€˜010-567â€™)]
```</p>
    </blockquote>
  </blockquote>
</blockquote>

<h3 id="web-crawling-with-beautifulsoup">Web Crawling with BeautifulSoup</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">pip3 list</code></li>
  <li><code class="language-plaintext highlighter-rouge">pip3 install BeautifulSoup4</code></li>
  <li><code class="language-plaintext highlighter-rouge">pip install requests </code></li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">pip list</code></p>
  </li>
  <li>Example of Webcrawling
```
    <h1 id="request-webserver">request webserver</h1>
    <p>import urllib.request
from bs4 import BeautifulSoup</p>
  </li>
</ul>

<p>data = urllib.request.urlopen(â€œhttp://comic.naver.com/webtoon/list.nhn?titleId=20853&amp;weekday=friâ€)</p>

<p>soup = BeautifulSoup(data, â€œhtml.parserâ€)</p>

<p>cartoons = soup.find_all(â€œtdâ€, class_=â€titleâ€)</p>

<p>title = cartoons[0].find(â€˜aâ€™).text
link = cartoons[0].find(â€˜aâ€™)[â€œhrefâ€]</p>

<h1 id="printtitle">print(title)</h1>
<h1 id="printlink">print(link)</h1>

<p>for item in cartoons:
    title = item.find(â€œaâ€).text
    print(title.strip())</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Save file and web crawling for all pages
</code></pre></div></div>
<h1 id="codingutf-8">coding:utf-8</h1>
<p>from bs4 import BeautifulSoup
import urllib.request
import re</p>

<p>for n in range(0,10):
        #address of clien
        data =â€™https://www.clien.net/service/board/sold?&amp;od=T31&amp;po=â€™ + str(n)
        req = urllib.request.Request(data)
        data = urllib.request.urlopen(req).read()
        page = data.decode(â€˜utf-8â€™, â€˜ignoreâ€™)
        soup = BeautifulSoup(page, â€˜html.parserâ€™)
        list = soup.find_all(â€˜spanâ€™, attrs={â€˜data-roleâ€™:â€™list-title-textâ€™})</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    f = open("C:\\work\\clien.txt", "a+", encoding="utf-8") # incase of new, use wt

    for item in list:
            try:
                    title = item.text
                    if (re.search('ê°¤ëŸ­ì‹œ', title)):
                            print(title.strip())
                            f.write(title.strip() + "\n")
            except:
                    pass
</code></pre></div></div>

<p>f.close()
print(â€œend of web crawlingâ€)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
- Add user-agent in header
</code></pre></div></div>
<h1 id="codingutf-8-1">coding:utf-8</h1>
<p>from bs4 import BeautifulSoup
import urllib.request
import re</p>

<p>#User-Agent add
hdr = {â€˜User-agentâ€™:â€™Mozila/5.0 (compatible; MSIE 5.5; Windows NT)â€™} # make request by adding client info with Internet explorer</p>

<p>for n in range(1,11):
        data =â€™https://dvdprime.com/g2/bbs/board.php?bo_table=comm&amp;page=â€™ + str(n)
        req = urllib.request.Request(data, <br />
                                          headers = hdr)
        data = urllib.request.urlopen(req).read()
        page = data.decode(â€˜utf-8â€™, â€˜ignoreâ€™)
        soup = BeautifulSoup(page, â€˜html.parserâ€™)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    # &lt;span class='list_subject_span_pc'&gt;contents&lt;/span&gt;
    list = soup.find_all('span', attrs={'class':'list_subject_span_pc'})

    for item in list:
            try:
                    title = item.text
                    if (re.search('íšŒì‚¬', title)):
                            print(title.strip())
            except:
                    pass
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### PyQt5 GUI

Install `PyQt5-5.6-gpl-Py3.5-Qt5.6.0-x32-2.exe`, make sure same version with python
- `.ui` file
  - XML format
  - Make mapping signal and slot in Signal/Slot Editor on Qt designer

- `.py` file
  - Add login in py file

</code></pre></div></div>
<h1 id="demoui-display--demopylogic">demo.ui (display) + demo.py(logic)</h1>

<p>import sys
from PyQt5.QtWidgets import *
from PyQt5 import uic</p>

<p>import urllib.request
from bs4 import BeautifulSoup</p>

<p>form_class = uic.loadUiType(â€œdemo2.uiâ€)[0]</p>

<p>#parent class((QMainWindow))
class DemoForm(QMainWindow, form_class):
    def <strong>init</strong>(self):
        super().<strong>init</strong>()
        self.setupUi(self)
    def firstClick(self):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    data = urllib.request.urlopen("http://comic.naver.com/webtoon/list.nhn?titleId=20853&amp;weekday=fri")

    soup = BeautifulSoup(data, "html.parser")

    cartoons = soup.find_all("td", class_="title")

    # title = cartoons[0].find('a').text
    # link = cartoons[0].find('a')["href"]

    # print(title)
    # print(link)

    for item in cartoons:
        title = item.find("a").text
        print(title.strip())






def secondClick(self):
    self.label.setText("clicked second")
def thirdClick(self):
    self.label.setText("clicked third")    
</code></pre></div></div>

<p>if <strong>name</strong> == â€œ<strong>main</strong>â€:
    app = QApplication(sys.argv)
    demoWindow = DemoForm()
    demoWindow.show()
    app.exec_()</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Get data and show table and link to browser.
</code></pre></div></div>
<p>import sys
from PyQt5.QtWidgets import *
import urllib.request
from bs4 import BeautifulSoup
import webbrowser  <br />
import re</p>

<p>class Form(QMainWindow):
    def <strong>init</strong>(self):
        super().<strong>init</strong>()
        self.setupUI()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def setupUI(self):
    # (x,y,width,height) 
    self.setGeometry(200, 200, 800, 800)
    
    # INPUT
    self.lineEdit = QLineEdit("", self)
    self.lineEdit.move(20, 20)

    #BUTTON
    self.btn = QPushButton("ê²€ìƒ‰", self)
    self.btn.move(120, 20)
    self.btn.clicked.connect(self.setTableWidgetData)

    self.tableWidget = QTableWidget(self)
    self.tableWidget.move(20, 70)
    self.tableWidget.resize(800, 600)
    self.tableWidget.setRowCount(50)  
    self.tableWidget.setColumnCount(2)  
    
    self.tableWidget.setColumnWidth(0, 300)
    self.tableWidget.setColumnWidth(1, 300)
    
  
    self.tableWidget.doubleClicked.connect(self.doubleClicked)


def setTableWidgetData(self):
    row = 0
    for n in range(0,5):

        data ='https://www.clien.net/service/board/sold?&amp;od=T31&amp;po=' + str(n)
        req = urllib.request.Request(data)
        data = urllib.request.urlopen(req).read()
        page = data.decode('utf-8', 'ignore')
        soup = BeautifulSoup(page, 'html.parser')
        list = soup.find_all('a', attrs={'class':'list_subject'})

        f = open("clien.txt", "a+", encoding="utf-8")
        for item in list:
            try:
                span = item.contents[3]
                title = item.text.strip()
 
                if (re.search(self.lineEdit.text(), title)):
                    title = title.replace("\t", "")
                    title = title.replace("\n", "")
                    print(title)
                    link = 'https://www.clien.net'  + item['href'] 
                    print(link.strip())
                    f.write(title+"\n")
                    f.write(link + "\n")
        
                    self.tableWidget.setItem(row, 0, QTableWidgetItem(title))
                    self.tableWidget.setItem(row, 1, QTableWidgetItem(link))
                    row += 1
                    print("row: ", row) 
            except:
                pass
         
        f.close()

def doubleClicked(self):
    url = self.tableWidget.item(self.tableWidget.currentRow(), 1).text()
    webbrowser.open(url) 
</code></pre></div></div>

<p>if <strong>name</strong> == â€œ<strong>main</strong>â€:
    app = QApplication(sys.argv)
    mywindow = Form()
    mywindow.show()
    app.exec_()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Pandas

  - Import type
    - from pandas import Series, DataFrame  
    - import pandas as pd
  - Datatypes
    - Series
      - It is similar to list
    - Dataframe
      - 2 array list
  - Read function
    - read_csv : based on csv from DB mainly
    - read_table : based on tab key
    - read_fwf : based on fixed width
    - read_excel : based on excel
  - Functions
    - plt.plot
    - plt.scatter
    - plt.bar

</code></pre></div></div>
<h1 id="make-one-frame">make one frame</h1>
<p>years = range(1880,2011)
pieces = []
columns = [â€œnameâ€, â€œsexâ€, â€œbirthsâ€]</p>

<p>for year in years:
    path = â€œc:\work\yob%d.txtâ€ % year
    frame = pd.read_csv(path, names = columns)
    frame[â€œyearâ€] = year
    pieces.append(frame)
    names = pd.concat(pieces, ignore_index=True)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
- Summary
</code></pre></div></div>
<p>total_births = names.pivot_table(â€œbirthsâ€, index = â€˜yearâ€™, columns=â€™sexâ€™, aggfunc=sum)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- Plot
</code></pre></div></div>
<p>total_births.plot(title=â€ë…„ë„ë³„ ì„±ë³„ ì¶œìƒ ìˆ«ìâ€)
```</p>

<p><img src="/assets/images/pyplot.png" alt="example" /></p>
:ET