I"˜<p><img src="/assets/images/panabarabasic.png" alt="example" /></p>

<blockquote>
  <p>Panabara í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ìœ ìš©í•œ íŒë“¤ì„ ì •ë¦¬í•´ ë³´ê³ ì í•©ë‹ˆë‹¤. ì£¼ë¡œ ë¡œì»¬ í™˜ê²½ì—ì„œ ê°œë°œ ì‹œì˜ ì„¤ì • ë°©ë²•, í…Œì´ë¸” ì¡°íšŒ ë°©ë²•, ì—ëŸ¬ ë°œìƒ ì‹œ íŒ ë“±ì„ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
</blockquote>

<hr />

<h3 id="sqllite3-ì´ˆê¸°í™”-ë°-ê¸°íƒ€-ì„¤ì •"><u>sqllite3 ì´ˆê¸°í™” ë° ê¸°íƒ€ ì„¤ì •</u></h3>

<h4 id="1-ì‚¬ì „-ì‚­ì œ-íŒŒì¼">1. ì‚¬ì „ ì‚­ì œ íŒŒì¼</h4>
<p>ê¸°ì¡´ì˜ DB ì •ë³´ ì‚­ì œì™€ ì´ˆê¸°í™”ë¥¼ ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì€ ì ˆì°¨ë¡œ ì§„í–‰í•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- migrations í´ë” ë‚´ `init.py` ì™¸ íŒŒì¼
- db.sqlite3
</code></pre></div></div>

<h4 id="2-migrate-ì‹¤í–‰">2. migrate ì‹¤í–‰</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python manage.py makemigrations
python manage.py migrate
</code></pre></div></div>

<h4 id="3-django-super-user-ìƒì„±">3. Django Super User ìƒì„±</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;python manage.py createsuperuser
Username (leave blank to use 'pinco'): xxxx
Email address: test@example.com
Password:xxxx
Password (again):xxxx
Superuser created successfully.
</code></pre></div></div>

<h3 id="í…Œì´ë¸”-ê¸°ë³¸-ì •ë³´-ìƒì„±"><u>í…Œì´ë¸” ê¸°ë³¸ ì •ë³´ ìƒì„±</u></h3>

<h4 id="1-stockbaseinfo-í…Œì´ë¸”">1. StockBaseInfo í…Œì´ë¸”</h4>

<ul>
  <li>
    <p>êµ­ë‚´, ë¯¸êµ­, ì½”ì¸ ì „ ì¢…ëª©ì˜ ê¸°ë³¸ ì •ë³´ë¥¼ ê°€ì ¸ì™€ ì €ì¥í•œë‹¤.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">__init__.py</code> ì£¼ì„ í•´ì œ í›„ stockinfo update : <code class="language-plaintext highlighter-rouge">python manage.py runserver --noreload</code></p>
  </li>
</ul>

<h4 id="2-mystocks-balances-í…Œì´ë¸”">2. MyStocks, Balances í…Œì´ë¸”</h4>

<ul>
  <li>
    <p>ë³´ìœ  ì¢…ëª©, ì›”ë³„ ì´ì•¡ ì •ë³´ë¥¼ ì—‘ì…€ ì •ë³´ë¡œ ë¶€í„° ê°€ì ¸ì˜¨ë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">txtuploader_banance.py</code>
    <ul>
      <li>ì›”ë³„ ì”ì•¡ ì •ë³´ë¥¼ Balances í…Œì´ë¸”ì— Insert í•œë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">txtuploader_mystocks.py</code>
    <ul>
      <li>ë³´ìœ  ì¢…ëª© ì •ë³´ë¥¼ MyStocks í…Œì´ë¸”ì— Insert í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<h3 id="sqlite3-ì‹¤í–‰í•˜ê¸°"><u>sqlite3 ì‹¤í–‰í•˜ê¸°</u></h3>
<p>ê°€ìƒí™˜ê²½ì„ Activate í•œ í›„, ì•„ë˜ ëª…ë ¹ì–´ë¡œ í…Œì´ë¸” ì •ë³´ë¥¼ ì¡°íšŒí•œë‹¤. í…Œì´ë¸” ì¡°íšŒëŠ” í•´ë‹¹ ëª¨ë¸ ì•ì— <code class="language-plaintext highlighter-rouge">ìƒìœ„í´ë”_</code> ë¥¼ ì¶”ê°€í•˜ì—¬ ì¡°íšŒí•œë‹¤.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; python manage.py dbshell

sqlite&gt; .tables  

-- users í…Œì´ë¸” ë³´ê¸°

sqlite&gt; .schema examples_mystocks

sqlite&gt; select * from auth_user;

sqlite&gt; select * from examples_mystocks where author_id ='3';

sqlite&gt; select * from examples_stockbaseinfo;

sqlite&gt; select * from examples_MyStocks;

select * from examples_balances;

-- ìœ ì €ë³„ë¡œ ë‚¨ê¸´ ì½”ë©˜íŠ¸ ì¡°íšŒ (joinë¬¸)
sqlite&gt; select users.naeme, comments.content
        from users join comments
        on comments.author_id = users.id;

-- ìœ ì €ID 1ë²ˆì´ ë‚¨ê¸´ ì½”ë©˜íŠ¸ ì¡°íšŒ
sqlite&gt; select users.naeme, comments.content
        from users join comments
        on comments.author_id = users.id
        where users.id=1;
</code></pre></div></div>

<h3 id="library-ê´€ë ¨"><u>Library ê´€ë ¨</u></h3>
<ul>
  <li>YahooFinance ì—…ë°ì´íŠ¸ë¡œ ì•„ë˜ë¡œ ì¬ì„¤ì¹˜ í•„ìš”
    <ul>
      <li>ì—ëŸ¬ ë‚´ìš© :  <code class="language-plaintext highlighter-rouge">json.decoder.jsondecodeerror expecting value line 1 column 1 (char 0)</code>
        <ul>
          <li><code class="language-plaintext highlighter-rouge">pip install yfinance --upgrade --no-cache-dir</code></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="bulk_update-ê´€ë ¨"><u>bulk_update ê´€ë ¨</u></h3>
<ul>
  <li>
    <p>ì¼ë‹¨ 50 ê°œì”© ìë¥´ì.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  result = list(divide_list(update_queries,50)) # ì´ê±° ë‚˜ì¤‘ì— const ë¡œ ë°”ê¾¸ì.
  for rs in result :
      MyStocks.objects.bulk_update(rs, ['kcurrencyrate','kbuyprice','kcurprice','iunitcurprice',
  'ktotalcurprice','ktotalbuyprice','kprofitratio','ktotalprevbuyprice','ktotalprevprice','kprofitpreratio','iupdatedate'])
</code></pre></div>    </div>
  </li>
</ul>

<p>ì´ ì—ëŸ¬ëŠ” ì™œë‚˜ëŠ”ê±°ì§€??
  File â€œd:\1_GitSource\PANABARA\pnbr_env\lib\site-packages\django\db\backends\sqlite3\base.pyâ€, line 383, in execute
    return Database.Cursor.execute(self, query, params)
django.db.utils.OperationalError: too many SQL variables
[07/Dec/2021 23:32:35] â€œGET /refresh/ HTTP/1.1â€ 500 305677</p>
:ET